<template name="userManagement">
  {{#if isReady 'currentUser'}}
  {{#if user}}
  {{#if switch}}
  <section class="content-header">
    <h1>
      User
      <small>Master</small>
    </h1>
    <ol class="breadcrumb">
      <li><a id="lnknavigation" href="#"><i class="fa fa-dashboard"></i>Users</a></li>
      <li class="active">Form</li>
    </ol>
  </section>
  <section class="content">
    <div class="row">
      <div class="col-md-6">
        {{> flashMessages}}
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 col-md-offset-4">
        <div id="divform">
          <div class="box box-primary">
            <div class="box-header with-border">
              <h3 class="box-title">User Form</h3>
            </div>
            <form id="userForm">
              <div class="box-body">
                {{#if isReady "userdata"}}
                <div class="form-group">
                  <input id="txtcompanyName" type="text" name="companyName" value="{{companyName}}" class="form-control" disabled="">
                </div>
                {{#if data}}
                <div class="form-group">
                  <input type="hidden" id="hdnuserid" val="{{data._id}}"/>
                  <input id="txtfirstName" type="text" name="firstName" class="form-control" value="{{data.profile.firstName}}" placeholder="First Name" required>
                </div>
                <div class="form-group">
                  <input id="txtlastName" type="text" name='lastName' class="form-control" value="{{data.profile.lastName}}" placeholder="Last Name" required>
                </div>
                <div class="form-group">
                  <input id="txtemail" type="email" name="email" class="form-control" value="{{address data.emails}}" placeholder="Email" data-parsley-trigger="change" required>
                </div>
                <div class="form-group">
                  <select id="drplevel"  class="form-control" name="level" value="{{data.profile.level}}">
                    <option class="default text" value="">Level</option>
                    {{#each leveldata}}
                    <option value={{_id}} text={{levelName}} {{selectedLevel data.profile.levelId}}>{{levelName}}</option>
                    {{/each}}
                  </select>
                </div>
                <div class="form-group">
                  <input id="txtjobTitle" type="text" name="jobTitle" class="form-control" value="{{data.profile.jobTitle}}" placeholder="Job Title" required>
                </div>
                <div class="form-group">
                  <select id="drpuserType" class="form-control" name="role" required>
                    <option value="">Role</option>
                    {{#each roledata}}
                    <option value={{name}} text={{name}} {{selectedRole data.roles.defaultgroup}}>{{name}}</option>
                    {{/each}}
                  </select>
                </div>
                {{/if}}
                {{/if}}
                <div class="box-footer">
                  <button id="btnSubmit" type="submit" class="btn btn-primary pull-right">Add</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
  {{/if}}
  {{else}}
  {{> notFound}}
  {{/if}}
  {{/if}}
</template>

<template name="usercontent">
  {{#if isReady 'currentUser'}}
  {{#if user}}
  <section class="content-header">
    <h1>
      User
      <small>Master</small>
    </h1>
    <ol class="breadcrumb">
      <li><a href="#"><i class="fa fa-dashboard"></i>Users</a></li>
    </ol>
  </section>
  <section class="content">
    <div class="row">
      <div class="col-md-6">
        {{> flashMessages}}
      </div>
    </div>
    <div class="row">
      {{#if showSpinner}}
      {{> spinner}}
      {{/if}}
      <div class="col-md-12">
        {{> tabular table=userTable.users selector=userSelector class="table table-striped table-bordered table-condensed"}}
      </div>
      <div class="col-md-3 col-md-offset-10">
        <a id="btnaddUser" href="#" class=" fa-2x fa fa-user-plus" ></a>
      </div>
    </div>
  </section>
  {{else}}
  {{> notFound}}
  {{/if}}
  {{/if}}
</template>

<template name="editdeletecontent">
  <a href="#" id="lnkedit"  class="fa fa-pencil"></a>
  <!-- <a href="#" id="lnkdelete" class="fa fa-remove"></a> -->
</template>
